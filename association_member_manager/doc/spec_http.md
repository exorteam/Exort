# 社团成员管理模块HTTP协议接口

## 通用约定

1. 编码：utf-8

2. 请求头部：

   - Content-type: application/json
   - Request-user: 调用接口的用户ID

3. 调用成功时，返回`200`的HTTP状态码，以及 _json_ 格式的响应体

4. 调用失败时，返回`4xx`的HTTP状态码，以及下述 _json_ 结构的响应体

   ```json
    {
          "error": string, 错误代码,
          "details": string, 错误详细描述
    }
   ```

## 接口定义

```json
{
   "swagger":"2.0",
   "info":{
      "description":"文档地址：https://github.com/exorteam/Exort/blob/dev/association_member_manager/doc/interface.md",
      "version":"v1.0",
      "title":"社团成员管理RestfulAPI"
   },
   "host":"localhost:8900",
   "basePath":"/",
   "tags":[
      {
         "name":"association-member-manage-controller",
         "description":"Association Member Manage Controller"
      }
   ],
   "paths":{
      "/association-member-management/add-one-to-association":{
         "post":{
            "tags":[
               "association-member-manage-controller"
            ],
            "summary":"addOneToAssociation",
            "operationId":"addOneToAssociationUsingPOST",
            "consumes":[
               "application/json"
            ],
            "produces":[
               "application/json"
            ],
            "parameters":[
               {
                  "name":"assciationId",
                  "in":"query",
                  "description":"assciationId",
                  "required":false,
                  "type":"integer",
                  "format":"int32"
               },
               {
                  "name":"userId",
                  "in":"query",
                  "description":"userId",
                  "required":false,
                  "type":"integer",
                  "format":"int32"
               }
            ],
            "responses":{
               "200":{
                  "description":"OK",
                  "schema":{
                     "type":"boolean"
                  }
               },
               "201":{
                  "description":"Created"
               },
               "401":{
                  "description":"Unauthorized"
               },
               "403":{
                  "description":"Forbidden"
               },
               "404":{
                  "description":"Not Found"
               }
            },
            "deprecated":false
         }
      },
      "/association-member-management/add-one-to-department":{
         "post":{
            "tags":[
               "association-member-manage-controller"
            ],
            "summary":"addOneToDepartment",
            "operationId":"addOneToDepartmentUsingPOST",
            "consumes":[
               "application/json"
            ],
            "produces":[
               "application/json"
            ],
            "parameters":[
               {
                  "name":"associationId",
                  "in":"query",
                  "description":"associationId",
                  "required":false,
                  "type":"integer",
                  "format":"int32"
               },
               {
                  "name":"departmentId",
                  "in":"query",
                  "description":"departmentId",
                  "required":false,
                  "type":"integer",
                  "format":"int32"
               },
               {
                  "name":"userId",
                  "in":"query",
                  "description":"userId",
                  "required":false,
                  "type":"integer",
                  "format":"int32"
               }
            ],
            "responses":{
               "200":{
                  "description":"OK",
                  "schema":{
                     "type":"boolean"
                  }
               },
               "201":{
                  "description":"Created"
               },
               "401":{
                  "description":"Unauthorized"
               },
               "403":{
                  "description":"Forbidden"
               },
               "404":{
                  "description":"Not Found"
               }
            },
            "deprecated":false
         }
      },
      "/association-member-management/adopt-appli":{
         "put":{
            "tags":[
               "association-member-manage-controller"
            ],
            "summary":"adoptApplication",
            "operationId":"adoptApplicationUsingPUT",
            "consumes":[
               "application/json"
            ],
            "produces":[
               "application/json"
            ],
            "parameters":[
               {
                  "name":"applyId",
                  "in":"query",
                  "description":"applyId",
                  "required":false,
                  "type":"integer",
                  "format":"int32"
               }
            ],
            "responses":{
               "200":{
                  "description":"OK",
                  "schema":{
                     "type":"boolean"
                  }
               },
               "201":{
                  "description":"Created"
               },
               "401":{
                  "description":"Unauthorized"
               },
               "403":{
                  "description":"Forbidden"
               },
               "404":{
                  "description":"Not Found"
               }
            },
            "deprecated":false
         }
      },
      "/association-member-management/change-one-to-department":{
         "put":{
            "tags":[
               "association-member-manage-controller"
            ],
            "summary":"changeOneToDepartment",
            "operationId":"changeOneToDepartmentUsingPUT",
            "consumes":[
               "application/json"
            ],
            "produces":[
               "application/json"
            ],
            "parameters":[
               {
                  "name":"associationId",
                  "in":"query",
                  "description":"associationId",
                  "required":false,
                  "type":"integer",
                  "format":"int32"
               },
               {
                  "name":"directionDepartmentId",
                  "in":"query",
                  "description":"directionDepartmentId",
                  "required":false,
                  "type":"integer",
                  "format":"int32"
               },
               {
                  "name":"userId",
                  "in":"query",
                  "description":"userId",
                  "required":false,
                  "type":"integer",
                  "format":"int32"
               }
            ],
            "responses":{
               "200":{
                  "description":"OK",
                  "schema":{
                     "type":"boolean"
                  }
               },
               "201":{
                  "description":"Created"
               },
               "401":{
                  "description":"Unauthorized"
               },
               "403":{
                  "description":"Forbidden"
               },
               "404":{
                  "description":"Not Found"
               }
            },
            "deprecated":false
         }
      },
      "/association-member-management/check-user-permission-in-association":{
         "get":{
            "tags":[
               "association-member-manage-controller"
            ],
            "summary":"checkUserPermissionInAssociation",
            "operationId":"checkUserPermissionInAssociationUsingGET",
            "produces":[
               "application/json"
            ],
            "parameters":[
               {
                  "name":"associationId",
                  "in":"query",
                  "description":"associationId",
                  "required":false,
                  "type":"integer",
                  "format":"int32"
               },
               {
                  "name":"permission",
                  "in":"query",
                  "description":"permission",
                  "required":false,
                  "type":"integer",
                  "format":"int32"
               },
               {
                  "name":"userId",
                  "in":"query",
                  "description":"userId",
                  "required":false,
                  "type":"integer",
                  "format":"int32"
               }
            ],
            "responses":{
               "200":{
                  "description":"OK",
                  "schema":{
                     "type":"boolean"
                  }
               },
               "401":{
                  "description":"Unauthorized"
               },
               "403":{
                  "description":"Forbidden"
               },
               "404":{
                  "description":"Not Found"
               }
            },
            "deprecated":false
         }
      },
      "/association-member-management/create-department":{
         "post":{
            "tags":[
               "association-member-manage-controller"
            ],
            "summary":"createDepartment",
            "operationId":"createDepartmentUsingPOST",
            "consumes":[
               "application/json"
            ],
            "produces":[
               "application/json"
            ],
            "parameters":[
               {
                  "name":"associationId",
                  "in":"query",
                  "description":"associationId",
                  "required":false,
                  "type":"integer",
                  "format":"int32"
               },
               {
                  "name":"departmentDesc",
                  "in":"query",
                  "description":"departmentDesc",
                  "required":false,
                  "type":"string"
               },
               {
                  "name":"departmentName",
                  "in":"query",
                  "description":"departmentName",
                  "required":false,
                  "type":"string"
               },
               {
                  "name":"parentId",
                  "in":"query",
                  "description":"parentId",
                  "required":false,
                  "type":"integer",
                  "format":"int32"
               }
            ],
            "responses":{
               "200":{
                  "description":"OK",
                  "schema":{
                     "type":"boolean"
                  }
               },
               "201":{
                  "description":"Created"
               },
               "401":{
                  "description":"Unauthorized"
               },
               "403":{
                  "description":"Forbidden"
               },
               "404":{
                  "description":"Not Found"
               }
            },
            "deprecated":false
         }
      },
      "/association-member-management/delete-department":{
         "delete":{
            "tags":[
               "association-member-manage-controller"
            ],
            "summary":"deleteDepartment",
            "operationId":"deleteDepartmentUsingDELETE",
            "produces":[
               "application/json"
            ],
            "parameters":[
               {
                  "name":"associationId",
                  "in":"query",
                  "description":"associationId",
                  "required":false,
                  "type":"integer",
                  "format":"int32"
               },
               {
                  "name":"departmentId",
                  "in":"query",
                  "description":"departmentId",
                  "required":false,
                  "type":"integer",
                  "format":"int32"
               }
            ],
            "responses":{
               "200":{
                  "description":"OK",
                  "schema":{
                     "type":"boolean"
                  }
               },
               "204":{
                  "description":"No Content"
               },
               "401":{
                  "description":"Unauthorized"
               },
               "403":{
                  "description":"Forbidden"
               }
            },
            "deprecated":false
         }
      },
      "/association-member-management/delete-one-in-association":{
         "delete":{
            "tags":[
               "association-member-manage-controller"
            ],
            "summary":"deleteOneInAssociation",
            "operationId":"deleteOneInAssociationUsingDELETE",
            "produces":[
               "application/json"
            ],
            "parameters":[
               {
                  "name":"associationId",
                  "in":"query",
                  "description":"associationId",
                  "required":false,
                  "type":"integer",
                  "format":"int32"
               },
               {
                  "name":"userId",
                  "in":"query",
                  "description":"userId",
                  "required":false,
                  "type":"integer",
                  "format":"int32"
               }
            ],
            "responses":{
               "200":{
                  "description":"OK",
                  "schema":{
                     "type":"boolean"
                  }
               },
               "204":{
                  "description":"No Content"
               },
               "401":{
                  "description":"Unauthorized"
               },
               "403":{
                  "description":"Forbidden"
               }
            },
            "deprecated":false
         }
      },
      "/association-member-management/edit-department":{
         "put":{
            "tags":[
               "association-member-manage-controller"
            ],
            "summary":"editDepartment",
            "operationId":"editDepartmentUsingPUT",
            "consumes":[
               "application/json"
            ],
            "produces":[
               "application/json"
            ],
            "parameters":[
               {
                  "name":"departmentDesc",
                  "in":"query",
                  "description":"departmentDesc",
                  "required":false,
                  "type":"string"
               },
               {
                  "name":"departmentId",
                  "in":"query",
                  "description":"departmentId",
                  "required":false,
                  "type":"integer",
                  "format":"int32"
               },
               {
                  "name":"departmentName",
                  "in":"query",
                  "description":"departmentName",
                  "required":false,
                  "type":"string"
               },
               {
                  "name":"parentId",
                  "in":"query",
                  "description":"parentId",
                  "required":false,
                  "type":"integer",
                  "format":"int32"
               }
            ],
            "responses":{
               "200":{
                  "description":"OK",
                  "schema":{
                     "type":"boolean"
                  }
               },
               "201":{
                  "description":"Created"
               },
               "401":{
                  "description":"Unauthorized"
               },
               "403":{
                  "description":"Forbidden"
               },
               "404":{
                  "description":"Not Found"
               }
            },
            "deprecated":false
         }
      },
      "/association-member-management/get-department-tree":{
         "get":{
            "tags":[
               "association-member-manage-controller"
            ],
            "summary":"getDepartmentTree",
            "operationId":"getDepartmentTreeUsingGET",
            "produces":[
               "application/json"
            ],
            "parameters":[
               {
                  "name":"associationId",
                  "in":"query",
                  "description":"associationId",
                  "required":false,
                  "type":"integer",
                  "format":"int32"
               }
            ],
            "responses":{
               "200":{
                  "description":"OK",
                  "schema":{
                     "type":"array",
                     "items":{
                        "$ref":"#/definitions/Department",
                        "originalRef":"Department"
                     }
                  }
               },
               "401":{
                  "description":"Unauthorized"
               },
               "403":{
                  "description":"Forbidden"
               },
               "404":{
                  "description":"Not Found"
               }
            },
            "deprecated":false
         }
      },
      "/association-member-management/get-some-applis":{
         "get":{
            "tags":[
               "association-member-manage-controller"
            ],
            "summary":"getSomeApplications",
            "operationId":"getSomeApplicationsUsingGET",
            "produces":[
               "application/json"
            ],
            "parameters":[
               {
                  "name":"associationId",
                  "in":"query",
                  "description":"associationId",
                  "required":false,
                  "type":"integer",
                  "format":"int32"
               },
               {
                  "name":"departmentId",
                  "in":"query",
                  "description":"departmentId",
                  "required":false,
                  "type":"integer",
                  "format":"int32"
               },
               {
                  "name":"endTime",
                  "in":"query",
                  "description":"endTime",
                  "required":false,
                  "type":"string",
                  "format":"date-time"
               },
               {
                  "name":"numInOnePage",
                  "in":"query",
                  "description":"numInOnePage",
                  "required":false,
                  "type":"integer",
                  "format":"int32"
               },
               {
                  "name":"startTime",
                  "in":"query",
                  "description":"startTime",
                  "required":false,
                  "type":"string",
                  "format":"date-time"
               },
               {
                  "name":"userId",
                  "in":"query",
                  "description":"userId",
                  "required":false,
                  "type":"integer",
                  "format":"int32"
               }
            ],
            "responses":{
               "200":{
                  "description":"OK",
                  "schema":{
                     "type":"array",
                     "items":{
                        "$ref":"#/definitions/Application",
                        "originalRef":"Application"
                     }
                  }
               },
               "401":{
                  "description":"Unauthorized"
               },
               "403":{
                  "description":"Forbidden"
               },
               "404":{
                  "description":"Not Found"
               }
            },
            "deprecated":false
         }
      },
      "/association-member-management/get-spec-appli":{
         "get":{
            "tags":[
               "association-member-manage-controller"
            ],
            "summary":"getSpecApplication",
            "operationId":"getSpecApplicationUsingGET",
            "produces":[
               "application/json"
            ],
            "parameters":[
               {
                  "name":"applyId",
                  "in":"query",
                  "description":"applyId",
                  "required":false,
                  "type":"integer",
                  "format":"int32"
               }
            ],
            "responses":{
               "200":{
                  "description":"OK",
                  "schema":{
                     "$ref":"#/definitions/Application",
                     "originalRef":"Application"
                  }
               },
               "401":{
                  "description":"Unauthorized"
               },
               "403":{
                  "description":"Forbidden"
               },
               "404":{
                  "description":"Not Found"
               }
            },
            "deprecated":false
         }
      },
      "/association-member-management/get-spec-department-info":{
         "get":{
            "tags":[
               "association-member-manage-controller"
            ],
            "summary":"getSpecDepartmentInfo",
            "operationId":"getSpecDepartmentInfoUsingGET",
            "produces":[
               "application/json"
            ],
            "parameters":[
               {
                  "name":"associationId",
                  "in":"query",
                  "description":"associationId",
                  "required":false,
                  "type":"integer",
                  "format":"int32"
               },
               {
                  "name":"departmentId",
                  "in":"query",
                  "description":"departmentId",
                  "required":false,
                  "type":"integer",
                  "format":"int32"
               }
            ],
            "responses":{
               "200":{
                  "description":"OK",
                  "schema":{
                     "$ref":"#/definitions/Department",
                     "originalRef":"Department"
                  }
               },
               "401":{
                  "description":"Unauthorized"
               },
               "403":{
                  "description":"Forbidden"
               },
               "404":{
                  "description":"Not Found"
               }
            },
            "deprecated":false
         }
      },
      "/association-member-management/get-spec-memberlist":{
         "get":{
            "tags":[
               "association-member-manage-controller"
            ],
            "summary":"getSpecMemberList",
            "operationId":"getSpecMemberListUsingGET",
            "produces":[
               "application/json"
            ],
            "parameters":[
               {
                  "name":"associationId",
                  "in":"query",
                  "description":"associationId",
                  "required":false,
                  "type":"integer",
                  "format":"int32"
               },
               {
                  "name":"departmentId",
                  "in":"query",
                  "description":"departmentId",
                  "required":false,
                  "type":"integer",
                  "format":"int32"
               },
               {
                  "name":"numInOnePage",
                  "in":"query",
                  "description":"numInOnePage",
                  "required":false,
                  "type":"integer",
                  "format":"int32"
               }
            ],
            "responses":{
               "200":{
                  "description":"OK",
                  "schema":{
                     "type":"array",
                     "items":{
                        "type":"integer",
                        "format":"int32"
                     }
                  }
               },
               "401":{
                  "description":"Unauthorized"
               },
               "403":{
                  "description":"Forbidden"
               },
               "404":{
                  "description":"Not Found"
               }
            },
            "deprecated":false
         }
      },
      "/association-member-management/get-user-association":{
         "get":{
            "tags":[
               "association-member-manage-controller"
            ],
            "summary":"getUserAssociation",
            "operationId":"getUserAssociationUsingGET",
            "produces":[
               "application/json"
            ],
            "parameters":[
               {
                  "name":"userId",
                  "in":"query",
                  "description":"userId",
                  "required":false,
                  "type":"integer",
                  "format":"int32"
               }
            ],
            "responses":{
               "200":{
                  "description":"OK",
                  "schema":{
                     "type":"array",
                     "items":{
                        "type":"integer",
                        "format":"int32"
                     }
                  }
               },
               "401":{
                  "description":"Unauthorized"
               },
               "403":{
                  "description":"Forbidden"
               },
               "404":{
                  "description":"Not Found"
               }
            },
            "deprecated":false
         }
      },
      "/association-member-management/get-user-department":{
         "get":{
            "tags":[
               "association-member-manage-controller"
            ],
            "summary":"getUserDepartment",
            "operationId":"getUserDepartmentUsingGET",
            "produces":[
               "application/json"
            ],
            "parameters":[
               {
                  "name":"associationId",
                  "in":"query",
                  "description":"associationId",
                  "required":false,
                  "type":"integer",
                  "format":"int32"
               },
               {
                  "name":"userId",
                  "in":"query",
                  "description":"userId",
                  "required":false,
                  "type":"integer",
                  "format":"int32"
               }
            ],
            "responses":{
               "200":{
                  "description":"OK",
                  "schema":{
                     "type":"array",
                     "items":{
                        "$ref":"#/definitions/Department",
                        "originalRef":"Department"
                     }
                  }
               },
               "401":{
                  "description":"Unauthorized"
               },
               "403":{
                  "description":"Forbidden"
               },
               "404":{
                  "description":"Not Found"
               }
            },
            "deprecated":false
         }
      },
      "/association-member-management/refuse-appli":{
         "put":{
            "tags":[
               "association-member-manage-controller"
            ],
            "summary":"refuseApplication",
            "operationId":"refuseApplicationUsingPUT",
            "consumes":[
               "application/json"
            ],
            "produces":[
               "application/json"
            ],
            "parameters":[
               {
                  "name":"applyId",
                  "in":"query",
                  "description":"applyId",
                  "required":false,
                  "type":"integer",
                  "format":"int32"
               }
            ],
            "responses":{
               "200":{
                  "description":"OK",
                  "schema":{
                     "type":"boolean"
                  }
               },
               "201":{
                  "description":"Created"
               },
               "401":{
                  "description":"Unauthorized"
               },
               "403":{
                  "description":"Forbidden"
               },
               "404":{
                  "description":"Not Found"
               }
            },
            "deprecated":false
         }
      },
      "/association-member-management/remove-one-from-department":{
         "delete":{
            "tags":[
               "association-member-manage-controller"
            ],
            "summary":"removeOneFromDepartment",
            "operationId":"removeOneFromDepartmentUsingDELETE",
            "produces":[
               "application/json"
            ],
            "parameters":[
               {
                  "name":"associationId",
                  "in":"query",
                  "description":"associationId",
                  "required":false,
                  "type":"integer",
                  "format":"int32"
               },
               {
                  "name":"departmentId",
                  "in":"query",
                  "description":"departmentId",
                  "required":false,
                  "type":"integer",
                  "format":"int32"
               },
               {
                  "name":"userId",
                  "in":"query",
                  "description":"userId",
                  "required":false,
                  "type":"integer",
                  "format":"int32"
               }
            ],
            "responses":{
               "200":{
                  "description":"OK",
                  "schema":{
                     "type":"boolean"
                  }
               },
               "204":{
                  "description":"No Content"
               },
               "401":{
                  "description":"Unauthorized"
               },
               "403":{
                  "description":"Forbidden"
               }
            },
            "deprecated":false
         }
      }
   },
   "definitions":{
      "Application":{
         "type":"object",
         "properties":{
            "applyTime":{
               "type":"string",
               "format":"date-time"
            },
            "associationId":{
               "type":"integer",
               "format":"int32"
            },
            "departmentId":{
               "type":"integer",
               "format":"int32"
            },
            "id":{
               "type":"integer",
               "format":"int32"
            },
            "materials":{
               "type":"array",
               "items":{
                  "type":"integer",
                  "format":"int32"
               }
            },
            "state":{
               "type":"integer",
               "format":"int32"
            },
            "userIdd":{
               "type":"integer",
               "format":"int32"
            }
         },
         "title":"Application"
      },
      "Department":{
         "type":"object",
         "properties":{
            "description":{
               "type":"string"
            },
            "id":{
               "type":"integer",
               "format":"int32"
            },
            "name":{
               "type":"string"
            },
            "parentId":{
               "type":"integer",
               "format":"int32"
            }
         },
         "title":"Department"
      }
   }
}
```

